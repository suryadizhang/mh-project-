<VirtualHost *:80>
    ServerName mhapi.mysticdatanode.net
    ServerAlias mhapi.mysticdatanode.net

    # Proxy settings
    ProxyPreserveHost On
    ProxyPass / http://127.0.0.1:8000/
    ProxyPassReverse / http://127.0.0.1:8000/

    # WebSocket support
    RewriteEngine On
    RewriteCond %{HTTP:Upgrade} websocket [NC]
    RewriteCond %{HTTP:Connection} upgrade [NC]
    RewriteRule ^/?(.*) ws://127.0.0.1:8000/$1 [P,L]

    # Timeout settings
    ProxyTimeout 300
</VirtualHost>
