# =============================================================================
# My Hibachi VPS Environment Variables Template
# =============================================================================
#
# USAGE:
#   1. Copy this file to .env.production on your VPS
#   2. Replace all placeholder values with actual credentials
#   3. Never commit the actual .env file to git!
#
# SECURITY:
#   - Store sensitive values in Google Secret Manager (GSM)
#   - Use SSH to transfer .env file (never HTTP)
#   - Set file permissions: chmod 600 .env.production
#
# Last Updated: 2025-01-30
# =============================================================================

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Environment: 'development' | 'staging' | 'production'
APP_ENV=production

# FastAPI Debug Mode: Never true in production
DEBUG=false

# API Server Host/Port
HOST=0.0.0.0
PORT=8000

# Uvicorn Workers (2 Ã— CPU cores + 1 recommended)
WORKERS=4

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Connection String (async driver)
# Format: postgresql+asyncpg://user:password@host:port/database
DATABASE_URL=postgresql+asyncpg://myhibachi_user:YOUR_DB_PASSWORD@localhost:5432/myhibachi_production

# PostgreSQL Connection String (sync driver - for migrations)
DATABASE_URL_SYNC=postgresql+psycopg2://myhibachi_user:YOUR_DB_PASSWORD@localhost:5432/myhibachi_production

# Connection Pool Settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================

# Redis Connection String
REDIS_URL=redis://localhost:6379/0

# Redis Cache TTL (seconds)
CACHE_TTL=3600

# =============================================================================
# SECURITY & AUTHENTICATION
# =============================================================================

# JWT Secret Key (generate with: openssl rand -hex 32)
SECRET_KEY=your-super-secret-key-change-in-production

# JWT Token Settings
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# API Key for service-to-service communication
API_KEY=your-api-key-here

# CORS Origins (comma-separated)
CORS_ORIGINS=https://myhibachichef.com,https://www.myhibachichef.com,https://admin.myhibachichef.com

# =============================================================================
# GOOGLE CLOUD PLATFORM (GSM)
# =============================================================================

# GCP Project ID for Secret Manager
GCP_PROJECT_ID=hibachi-booking-backend

# Path to GCP Service Account Key (JSON)
GOOGLE_APPLICATION_CREDENTIALS=/var/www/vhosts/mhapi.mysticdatanode.net/.secrets/gcp-service-account.json

# =============================================================================
# EMAIL / SMTP CONFIGURATION
# =============================================================================

# SMTP Settings (for transactional emails)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
SMTP_FROM_NAME=My Hibachi Chef
SMTP_FROM_EMAIL=noreply@myhibachichef.com

# IMAP Settings (for payment email scheduler)
IMAP_HOST=imap.gmail.com
IMAP_PORT=993
IMAP_USER=your-email@gmail.com
IMAP_PASSWORD=your-app-specific-password

# =============================================================================
# STRIPE PAYMENT GATEWAY
# =============================================================================

# Stripe API Keys
STRIPE_SECRET_KEY=sk_live_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_live_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# =============================================================================
# RESEND EMAIL SERVICE
# =============================================================================

# Resend API Key for transactional emails
RESEND_API_KEY=re_your_resend_api_key

# =============================================================================
# RINGCENTRAL (SMS/VOICE)
# =============================================================================

# RingCentral API Credentials
RINGCENTRAL_CLIENT_ID=your_client_id
RINGCENTRAL_CLIENT_SECRET=your_client_secret
RINGCENTRAL_JWT_TOKEN=your_jwt_token
RINGCENTRAL_SERVER=https://platform.ringcentral.com
RINGCENTRAL_FROM_NUMBER=+1234567890

# =============================================================================
# GOOGLE MAPS API
# =============================================================================

# Google Maps API Key (for geocoding and distance calculations)
GOOGLE_MAPS_API_KEY=your_google_maps_api_key

# =============================================================================
# AI/LLM CONFIGURATION
# =============================================================================

# OpenAI API Key
OPENAI_API_KEY=sk-your-openai-api-key

# OpenAI Model Settings
OPENAI_MODEL=gpt-4o
OPENAI_MAX_TOKENS=4096

# =============================================================================
# FEATURE FLAGS (Match config.py Settings)
# =============================================================================

# Core Features
FEATURE_CORE_API=true
FEATURE_AUTH=true
FEATURE_RBAC=true
FEATURE_AUDIT_TRAIL=true

# Payment Features (Batch 2)
FEATURE_STRIPE_ENABLED=true
FEATURE_DYNAMIC_PRICING=true

# AI Features (Batch 3)
FEATURE_AI_CORE=false
FEATURE_OPENAI=false
FEATURE_SMART_ESCALATION=false

# Communication Features (Batch 4)
FEATURE_RINGCENTRAL=false
FEATURE_VOICE_AI=false
FEATURE_DEEPGRAM=false
FEATURE_META_WHATSAPP=false

# =============================================================================
# LOGGING & MONITORING
# =============================================================================

# Log Level: DEBUG | INFO | WARNING | ERROR | CRITICAL
LOG_LEVEL=INFO

# Log Format: json | text
LOG_FORMAT=json

# Sentry DSN (optional - for error tracking)
SENTRY_DSN=

# =============================================================================
# RATE LIMITING
# =============================================================================

# Rate limit settings (requests per window)
RATE_LIMIT_DEFAULT=100
RATE_LIMIT_WINDOW=60

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================

# Backup retention (days)
BACKUP_RETENTION_DAYS=30

# Backup storage path
BACKUP_PATH=/var/backups/myhibachi

# =============================================================================
# DOCKER-SPECIFIC SETTINGS (For future Docker deployment)
# =============================================================================

# Container resource limits
CONTAINER_MEMORY_LIMIT=2g
CONTAINER_CPU_LIMIT=2

# Health check settings
HEALTHCHECK_INTERVAL=30s
HEALTHCHECK_TIMEOUT=10s
HEALTHCHECK_RETRIES=3

# =============================================================================
# END OF CONFIGURATION
# =============================================================================
